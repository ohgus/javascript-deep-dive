# 📕 4장 변수

## 📝 4.1 변수란 무엇인가? 왜 필요한가?

**변수는 하나의 값을 저장하기 위해 확보된 메모리 공간 자체 또는 그 메모리 공간을 식별하기 위해 붙인 이름을 말한다.**

- 프로그래밍 언어에서 데이터를 관리하기 위한 핵심 개념
- 기억하고 싶은 값을 메모리에 저장하고, 저장된 값을 읽어 들여 재사용하기 위해 변수라는 메커니즘을 제공
- 값의 위치를 가리키는 상징적인 이름
- 변수는 하나의 값을 저장하기 위한 메커니즘이기 때문에 여러개의 값을 저장하고 싶으면 여러개의 변수를 사용하거나 배열이나 객체를 사용해 관련있는 여러개의 값을 그룹화해서 하나의 값처럼 사용할 수 있다.
- 변수 이름 => 메모리 공간에 저장된 값을 식별할 수 있는 고유한 이름
- 변수 값 => 변수에 저장된 값
- 할당(대입, 저장) => 변수에 값을 저장하는 것
- 참조 => 변수에 저장된 값을 읽어 들이는 것
- 좋은 변수 이름(의미가 명확한)은 가독성을 높이고 개발자의 의도를 명확하게 나타내 코드를 이해하기 쉽게 만들어 협업과 품질 향상에 도움이 된다.

## 📝 4.2 식별자

**식별자는 어떤 값을 구별해서 식별할 수 있는 고유한 이름을 말한다.**

- 변수 이름을 식별자라고도 한다.
- 식별자는 어떤 값이 저장되어 있는 메모리 주소를 기억해야 한다.
- 식별자는 값이 저장되어 있는 메모리 주소와 매핑 관계를 맺으며, 이 매핑 정보도 메모리에 저장되어야 한다.
- 식별자는 값이 아니라 메모리 주소를 기억한다. (식별자 === 메모리 주소에 붙인 이름)
- 변수, 함수, 클래스 등의 이름은 모두 식별자라고 한다. (메모리 상에 존재하는 어떤 값은 식별할 수 있는 이름은 모두 식별자)
- 식별자는 네이밍 규칙을 준수해야 하고 **선언**에 의해 자바스크립트 엔진에 식별자의 존재를 알린다.

## 📝 4.3 변수 선언

**변수 선언이란 값을 저장하기 위한 메모리 공간을 확보하고 변수 이름과 확보된 메모리 공간의 주소를 연결해서 값을 저장할 수 있게 준비하는 것이다.**

- 변수 선언에 의해 확보된 메모리 공간은 확보가 해제되기 전까지 누구도 확보된 메모리 공간을 사용할 수 없다.
- 변수를 사용하기 위해서는 반드시 선언이 필요하다.
- 변수를 선언할 때는 `var`, `let`, `const` 키워드를 사용한다. (`let`, `const`는 ES6에서 도입)
- `var` 키워드는 블록 레벨 스코프를 지원하지 않고 함수 레벨 스코프를 지원하기 때문에 의도치 않게 전역 변수가 선언되어 심각한 부작용이 발생하기도 한다. (이를 보완하기 위해 `let`, `const` 키워드가 ES6에서 도입되었다.)
- 변수를 선언하고 값을 할당하지 않으면 확보된 메모리 공간에 `undefined`라는 값이 암묵적으로 할당되어 초기화된다.

  ```js
  var score; // => undefined
  ```

- 자바스크립트 변수 선언은 선언 단계, 초기화 단계를 거쳐 수행된다.
  - 선언 단계: 변수 이름을 등록해서 자바스크립트 엔진에 변수의 존재를 알린다.
  - 초기화 단계: 값을 저장하기 위한 메모리 공간을 확보하고 암묵적으로 `undefined`를 할당해 초기화한다.
- 초기화 단계를 거치지 않으면 확보된 메모리 공간에 이전에 사용하던 쓰레기 값이 남아 있을 수 있다.

## 📝 4.4 변수 선언의 실행 시점과 변수 호이스팅

**변수 호이스팅**: 변수 선언이 코드의 선두로 끌어 올려진 것처럼 동작하는 자바스크립트 고유의 특징

**변수 선언은 런타임이 아니라 그 이전 단계에서 먼저 실행된다.**

```js
console.log(score); // undefined

var score; // 변수 선언문
```

- 참조문이 선언문보다 위에 있어도 참조 에러가 발생하지 않는다.
- 자바스크립트 엔진은 런타임 이전에 소스코드 평가 과정을 거치면서 소스코드를 실행할 준비를 한다.
  - 변수 선언을 포함한 모든 선언문을 소스코드에서 찾아내 먼저 실행한다.
  - 그 다음 소스코드를 한 줄씩 실행한다.
- 변수 선언 말고도 `var`, `let`, `const`, `function`, `function\*`, `class` 키워드를 사용해 선언한 모든 식별자는 호이스팅된다.

## 📝 4.5 값의 할당

변수에 값을 할달할 때는 할당 연산자 `=`를 사용한다. (우변의 값을 좌변의 변수에 할당)

```js
var score; // 변수 선언
score = 90; // 값의 할당

var score = 90; // 변수 선언과 값의 할당 => 단축 표현
```

- 변수 선언문, 값의 할당문 === 단축 표현 (동일하게 동작)
- 단축 표현도 2개의 문으로 나누어서 실행된다.
- 변수 선언, 값의 할당은 다른 시점에 실행된다.

  - 변수 선언: 런타임 이전
  - 값의 할당: 런타임

```js
console.log(score); // undefined

score = 90; // 값의 할당
var score; // 변수 선언

console.log(score); // 90
```

- 값의 할당이 이루어질 때는 `undefined`가 저장된 메모리 공간을 지우고 값을 할당하는 것이 아니라 새로운 메모리 공간을 확보하고 그곳에 값을 할당한다.

## 📝 4.6 값의 재할당

**값의 재할당: 이미 값이 할당되어 있는 변수에 새로운 값을 할당하는 것**

```js
var score = 90;
console.log(score); // 90

score = 100;
console.log(score); // 100
```

**값의 재할당이 불가능하다면 변수가 아니라 상수라 한다.** `const` 키워드를 사용한 변수는 재할당이 금지된다.

- 재할당이 되면 기존 메모리가 아닌 새로운 메모리 공간을 확보한 뒤에 값을 저장한다.
- 재할당이 되면 기존의 값은 가비지 콜렉터에 의해 메모리에서 자동으로 해제된다. 단 시점은 예측할 수 없다.

**가비지 컬렉터**란 메모리 공간을 주기적으로 검사하여 더 이상 사용되지 않는 메모리를 해제하는 기능을 말한다. 자바스크립트는 가비지 컬렉터를 내장하고 있는 매니지드 언어로서 메모리 누수를 방지한다.

## 📝 4.7 식별자 네이밍 규칙

- 특수문자를 제외한 문자, 숫자, 언더스코어(\_), 달러 기호($)를 포함할 수 있다.
- 특수문자를 제외한 문자, 언더스코어(\_), 달러 기호($)로 시작해야 한다. 숫자로 시작하는 것은 허용하지 않는다.
- 예약어는 식별자로 사용할 수 없다.

예약어는 프로그래밍 언어에서 사용되고 있거나 사용될 예정인 단어를 말한다.

- 자바스크립트는 대소문자를 구별한다. -> `firstName !== firstname !== FIRSTNAME`
- 변수의 이름은 의도를 명확히 표현해야 한다.
- 네이밍 컨벤션을 지키면서 변수 이름을 만들어야 가독성이 좋아진다.
  - 카멜 케이스 -> `firstName` (일반적인 변수나 함수에 사용)
  - 스네이크 케이스 -> `first_name`
  - 파스칼 케이스 -> `FirstName` (생성자 함수나 클래스에 사용)
- 카멜 케이스와 파스칼 케이스를 주로 사용하자. (ECMAScript 사양에 정의되어 있는 객체와 함수도 카멜, 파스칼 케이스를 사용)
