# ğŸ“• 17ì¥ ìƒì„±ì í•¨ìˆ˜ì— ì˜í•œ ê°ì²´ ìƒì„±

## ğŸ“ 17.1 Object ìƒì„±ì í•¨ìˆ˜

ìƒì„±ì í•¨ìˆ˜ë€ new ì—°ì‚°ìì™€ í•¨ê»˜ í˜¸ì¶œí•˜ì—¬ ê°ì²´(ì¸ìŠ¤í„´ìŠ¤)ë¥¼ ìƒì„±í•˜ëŠ” í•¨ìˆ˜ë¥¼ ë§í•œë‹¤. JSì—ëŠ” Object ì™¸ì—ë„ String, Number, Boolean, Function, Array, Date, RegExp, Promise ë“±ì˜ ë¹ŒíŠ¸ì¸ ìƒì„±ì í•¨ìˆ˜ë¥¼ ì œê³µí•œë‹¤.

ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” ë°©ì‹ì€ ë¦¬í„°ëŸ´ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ë” ê°„í¸í•˜ë‹¤. íŠ¹ë³„í•œ ì´ìœ ê°€ ì—†ë‹¤ë©´ Object ìƒì„±ì í•¨ìˆ˜ë³´ë‹¤ ë¦¬í„°ëŸ´ì„ ì‚¬ìš©í•´ ê°ì²´ë¥¼ ë§Œë“¤ì.

```js
const myDog = new Object();

myDog.name = 'Daebak';
myDog.age = 5;
myDog.bark = function () {
  console.log(`${this.name} barks!`);
};

console.log(myDog); // {name: Daebak, age: 5, bark: f}
```

## ğŸ“ 17.2 ìƒì„±ì í•¨ìˆ˜

### âœï¸ 17.2.1 ê°ì²´ ë¦¬í„°ëŸ´ì— ì˜í•œ ê°ì²´ ìƒì„± ë°©ì‹ì˜ ë¬¸ì œì 

ê°ì²´ë¥¼ ê°ì²´ ë¦¬í„°ëŸ´ë¡œ ìƒì„±í•˜ëŠ” ë°©ì‹ì€ í•œë²ˆì— í•˜ë‚˜ì˜ ê°ì²´ë§Œì„ ìƒì„±í•˜ê¸° ë–„ë¬¸ì— ë™ì¼í•œ í”„ë¡œí¼í‹°ë¥¼ ê°–ëŠ” ì—¬ëŸ¬ê°œì˜ ê°ì²´ë¥¼ ìƒì„±í•´ì•¼ í•˜ëŠ” ê²½ìš° ë§¤ë²ˆ ê°™ì€ í”„ë¡œí¼í‹°ë¥¼ ê¸°ìˆ í•´ì•¼ í•´ì„œ ë¹„íš¨ìœ¨ì ì´ë‹¤.

### âœï¸ 17.2.2 ìƒì„±ì í•¨ìˆ˜ì— ì˜í•œ ê°ì²´ ìƒì„± ë°©ì‹ì˜ ì¥ì 

ìƒì„±ì í•¨ìˆ˜ë¥¼ ê°ì²´ë¥¼ ìƒì„±í•˜ê¸° ìœ„í•œ í•˜ë‚˜ì˜ í…œí”Œë¦¿ì²˜ëŸ¼ ì‚¬ìš©í•˜ì—¬ ì—¬ëŸ¬ ê°œì˜ ê°ì²´ë¥¼ ê°„í¸í•˜ê²Œ ìƒì„±í•  ìˆ˜ ìˆë‹¤.

```js
// ìƒì„±ì í•¨ìˆ˜
function Person(firstName, lastName) {
  this.firstName = firstName;
  this.lastName = lastName;
  this.getFullName = () => {
    return `${this.firstName} ${this.lastName}`;
  };
}

// ì¸ìŠ¤í„´ìŠ¤ ìƒì„±
const person1 = new Person('oh', 'ms');
const person2 = new Person('lee', 'ms');

console.log(person1.getFullName()); // oh ms
console.log(person2.getFullName()); // lee ms
```

```
ğŸ’¡`this`

`this`ëŠ” ê°ì²´ ìì‹ ì˜ í”„ë¡œí¼í‹°ë‚˜ ë©”ì„œë“œë¥¼ ì°¸ì¡°í•˜ê¸° ìœ„í•œ ìê¸° ì°¸ì¡° ë³€ìˆ˜ë¡œ `this`ê°€ ê°€ë¦¬í‚¤ëŠ” ê°’(ë°”ì¸ë”©)ì€ í•¨ìˆ˜ í˜¸ì¶œ ë°©ì‹ì— ë”°ë¼ ë™ì ìœ¼ë¡œ ê²°ì •ëœë‹¤.

í˜¸ì¶œ ë°©ì‹ì— ë”°ë¥¸ `this` ë°”ì¸ë”©

- ì¼ë°˜ í•¨ìˆ˜ë¡œì„œ í˜¸ì¶œ -> ì „ì—­ ê°ì²´
- ë©”ì„œë“œë¡œì„œ í˜¸ì¶œ -> ë©”ì„œë“œë¥¼ í˜¸ì¶œí•œ ê°ì²´
- ìƒì„±ì í•¨ìˆ˜ë¡œì„œ í˜¸ì¶œ -> ìƒì„±ì í•¨ìˆ˜ê°€ ìƒì„±í•œ ì¸ìŠ¤í„´ìŠ¤
```

ìƒì„±ì í•¨ìˆ˜ëŠ” ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” í•¨ìˆ˜ì§€ë§Œ í´ë˜ìŠ¤ ê¸°ë°˜ ê°ì²´ì§€í–¥ ì–¸ì–´ì˜ ìƒì„±ì í•¨ìˆ˜ì™€ ë‹¤ë¥´ê²Œ ì •í•´ì§„ í˜•ì‹ì´ ì—†ê³  ì¼ë°˜ í•¨ìˆ˜ì™€ ë™ì¼í•˜ê²Œ ì •ì˜í•˜ê³  `new` ì—°ì‚°ìì™€ í•¨ê»˜ í˜¸ì¶œí•´ì•¼ ìƒì„±ì í•¨ìˆ˜ë¡œì„œ ë™ì‘í•œë‹¤. `new` ì—°ì‚°ì ì—†ì´ í˜¸ì¶£ë˜ë©´ ì¼ë°˜ í•¨ìˆ˜ë¡œì„œ ë™ì‘í•œë‹¤.

### âœï¸ 17.2.3 ìƒì„±ì í•¨ìˆ˜ì˜ ì¸ìŠ¤í„´ìŠ¤ ìƒì„± ê³¼ì •

ìƒì„±ì í•¨ìˆ˜ì˜ ì—­í• ì€ êµ¬ì¡°ê°€ ë™ì¼í•œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ê¸° ìœ„í•œ í…œí”Œë¦¿ìœ¼ë¡œì„œ ë™ì‘í•´ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ê³  ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì´ˆê¸°í™”í•˜ëŠ” ê²ƒì´ë‹¤.
ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ëŠ” ê²ƒì€ í•„ìˆ˜ê³  ì´ˆê¸°í™”ëŠ” ì˜µì…˜ì´ë‹¤.

JS ì—”ì§„ì€ ì¸ìŠ¤í„´ìŠ¤ ë°˜í™˜ë¬¸ì´ ì—†ì–´ë„ `new` ì—°ì‚°ìì™€ í•¨ê»˜ ìƒì„±ì í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë©´ ì•”ë¬µì ìœ¼ë¡œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ê³  ë°˜í™˜í•œë‹¤.

#### âœ… 1. ì¸ìŠ¤í„´ìŠ¤ ìƒì„±ê³¼ this ë°”ì¸ë”©

ì•„ë˜ ê³¼ì •ì€ ëŸ°íƒ€ì„ ì´ì „ì— ì‹¤í–‰ëœë‹¤.

1. ì•”ë¬µì ìœ¼ë¡œ ë¹ˆ ê°ì²´(ì¸ìŠ¤í„´ìŠ¤)ë¥¼ ìƒì„±í•œë‹¤.
2. ì¸ìŠ¤í„´ìŠ¤ê°€ thisì— ë°”ì¸ë”©ëœë‹¤.

```
ğŸ’¡ë°”ì¸ë”©

ì‹ë³„ìì™€ ê°’ì„ ì—°ê²°í•˜ëŠ” ê³¼ì •

- ë³€ìˆ˜ëŠ” ë³€ìˆ˜ ì´ë¦„ê³¼ í™•ë³´ëœ ë©”ëª¨ë¦¬ ê³µê°„ì˜ ì£¼ì†Œë¥¼ ì—°ê²°
- thisëŠ” thisê°€ ê°€ë¦¬í‚¬ ê°ì²´ë¥¼ ì—°ê²°
```

#### âœ… 2. ì¸ìŠ¤í„´ìŠ¤ ì´ˆê¸°í™”

ì•„ë˜ ê³¼ì •ì€ ê°œë°œìê°€ ì§ì ‘ ê¸°ìˆ í•œë‹¤.

ëŸ°íƒ€ì„ì— `this`ì— ë°”ì¸ë”©ë˜ì–´ ìˆëŠ” ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì´ˆê¸°í™”í•œë‹¤. í”„ë¡œí¼í‹°ë‚˜ ë©”ì„œë“œë¥¼ ì¶”ê°€í•˜ê³  ì¸ìˆ˜ë¡œ ì „ë‹¬ë°›ì€ ì´ˆê¸°ê°’ì„ ì¸ìŠ¤í„´ìŠ¤ í”„ë¡œí¼í‹°ì— í• ë‹¹í•˜ì—¬ ì´ˆê¸°í™”í•˜ê±°ë‚˜ ê³ ì •ê°’ì„ í• ë‹¹í•œë‹¤.

#### âœ… 3. ì¸ìŠ¤í„´ìŠ¤ ë°˜í™˜

ìƒì„±ì í•¨ìˆ˜ ë‚´ë¶€ì˜ ëª¨ë“  ì²˜ë¦¬ê°€ ëë‚˜ë©´ ì™„ì„±ëœ ì¸ìŠ¤í„´ìŠ¤ê°€ ë°”ì¸ë”©ëœ `this`ê°€ ì•”ë¬µì ìœ¼ë¡œ ë°˜í™˜ëœë‹¤.

- `this`ê°€ ì•„ë‹Œ ë‹¤ë¥¸ ê°ì²´ë¥¼ ëª…ì‹œì ìœ¼ë¡œ ë°˜í™˜í•˜ë©´ `this`ëŠ” ë°˜í™˜ë˜ì§€ ì•Šê³  ëª…ì‹œí•œ ê°ì²´ê°€ ë°˜í™˜ëœë‹¤.
- `this`ê°€ ì•„ë‹Œ ì›ì‹œê°’ì„ ëª…ì‹œì ìœ¼ë¡œ ë°˜í™˜í•˜ë©´ ì›ì‹œê°’ì˜ ë°˜í™˜ì€ ë¬´ì‹œë˜ê³  `this`ê°€ ë°˜í™˜ëœë‹¤.

ìƒì„±ì í•¨ìˆ˜ ë‚´ë¶€ì— `this`ê°€ ì•„ë‹Œ ë‹¤ë¥¸ ê°’ì„ ë°˜í™˜í•˜ëŠ” ê²ƒì€ ìƒì„±ì í•¨ìˆ˜ì˜ ê¸°ë³¸ ë™ì‘ì„ í›¼ì†í•˜ê¸° ë•Œë¬¸ì— `return` ë¬¸ì„ ë°˜ë“œì‹œ ìƒëµí•˜ì.

### âœï¸ 17.2.4 ë‚´ë¶€ ë©”ì„œë“œ [[Call]]ê³¼ [[Construct]]

í•¨ìˆ˜ëŠ” ê°ì²´ì´ë¯€ë¡œ ì¼ë°˜ ê°ì²´ê°€ ê°€ì§€ê³  ìˆëŠ” ë‚´ë¶€ ìŠ¬ë¡¯ê³¼ ë‚´ë¶€ ë©”ì„œë“œë¥¼ ëª¨ë‘ ê°€ì§€ê³  ìˆì–´ ì¼ë°˜ ê°ì²´ì™€ ë™ì¼í•˜ê²Œ ë™ì‘í•  ìˆ˜ ìˆë‹¤.

```js
function foo() {}

foo.prop = 10;

foo.method = () => {
  console.log(this.prop);
};

foo.method(); // 10
```

í•¨ìˆ˜ì™€ ì¼ë°˜ ê°ì²´ì˜ ì°¨ì´ì ì€ ì¼ë°˜ ê°ì²´ëŠ” í˜¸ì¶œí•  ìˆ˜ ì—†ì§€ë§Œ í•¨ìˆ˜ëŠ” í˜¸ì¶œí•  ìˆ˜ ìˆë‹¤ëŠ” ì ì´ë‹¤. ë˜í•œ í•¨ìˆ˜ëŠ” í•¨ìˆ˜ë¡œì„œ ë™ì‘í•˜ê¸° ìœ„í•œ `[[Environment]]`, `[[FormalParameters]]` ë“±ì˜ ë‚´ë¶€ ìŠ¬ë¡¯ê³¼ `[[Call]]`, `[[Construct]]` ê°™ì€ ë‚´ë¶€ ë©”ì„œë“œë¥¼ ì¶”ê°€ë¡œ ê°€ì§€ê³  ìˆë‹¤.

í•¨ìˆ˜ê°€ ì¼ë°˜ í•¨ìˆ˜ë¡œì„œ í˜¸ì¶œë˜ë©´ `[[Call]]`ì´ í˜¸ì¶œë˜ê³  ìƒì„±ì í•¨ìˆ˜ë¡œì„œ í˜¸ì¶œë˜ë©´ `[[Construct]]`ê°€ í˜¸ì¶œëœë‹¤.

ë‚´ë¶€ ë©”ì„œë“œ `[[Call]]`ì„ ê°–ëŠ” í•¨ìˆ˜ ê°ì²´ë¥¼ `callable`ì´ë¼ í•˜ê³ , ë‚´ë¶€ ë©”ì„œë“œ `[[Construct]]`ë¥¼ ê°–ëŠ” í•¨ìˆ˜ ê°ì²´ë¥¼ `constructor`, `[[Construct]]`ë¥¼ ê°–ì§€ ì•ŠëŠ” í•¨ìˆ˜ ê°ì²´ë¥¼ `non-constructor`ë¼ê³  ë¶€ë¥¸ë‹¤. í•¨ìˆ˜ëŠ” í˜¸ì¶œí•  ìˆ˜ ìˆëŠ” ê°ì²´ì´ë¯€ë¡œ ëª¨ë‘ `callable`ì´ë©° ìƒì„±ì í•¨ìˆ˜ë¡œ í˜¸ì¶œí•  ìˆ˜ ìˆëŠ” í•¨ìˆ˜ë¥¼ `constructor` ìƒì„±ì í•¨ìˆ˜ë¡œ í˜¸ì¶œí•  ìˆ˜ ì—†ëŠ” í•¨ìˆ˜ë¥¼ `non-constructor`ë¼ê³  í•œë‹¤.

### âœï¸ 17.2.5 constructorì™€ non-constructorì˜ êµ¬ë¶„

JS ì—”ì§„ì€ í•¨ìˆ˜ì˜ ì •ì˜ ë°©ì‹ì— ë”°ë¼ì„œ constructorì™€ non-constructorë¥¼ êµ¬ë¶„í•œë‹¤.

- constructor: í•¨ìˆ˜ ì„ ì–¸ë¬¸, í•¨ìˆ˜ í‘œí˜„ì‹, í´ë˜ìŠ¤
- non-constructor: ë©”ì„œë“œ, í™”ì‚´í‘œ í•¨ìˆ˜
  - ECMAScript ì‚¬ì–‘ì—ì„œ ì¸ì •í•˜ëŠ” ë©”ì„œë“œì˜ ë²”ìœ„ê°€ ì¼ë°˜ì ì¸ ë©”ì„œë“œë³´ë‹¤ ì¢ë‹¤ëŠ” ê²ƒì— ì£¼ì˜í•˜ì. => ES6ì˜ ì¶•ì•½ í‘œí˜„ë§Œ ë©”ì„œë“œë¡œ ì¸ì •
- ì¼ë°˜ í•¨ìˆ˜ë¡œ ì •ì˜í•œ í•¨ìˆ˜ì— new ì—°ì‚°ìë¥¼ ì‚¬ìš©í•´ í˜¸ì¶œí•˜ë©´ ìƒì„±ì í•¨ìˆ˜ì²˜ëŸ¼ ë™ì‘í•  ìˆ˜ ìˆìœ¼ë‹ˆ ì£¼ì˜í•˜ì.

```js
// constructor

function foo() {}
const bar = function () {};
const baz = {
  // ì¼ë°˜ í•¨ìˆ˜ë¡œ ì •ì˜í•œ í•¨ìˆ˜ëŠ” ë©”ì„œë“œë¡œ ì¸ì •í•˜ì§€ ì•ŠëŠ”ë‹¤.
  x: function () {},
};

new foo(); // foo{}
new bar(); // bar{}
new baz.x(); // x{}

// non-constructor

const arrow = () => {};

new arrow(); // TypeError: arrow is not a constructor

const obj = {
  x() {},
};

new obj.x(); // TypeError: obj.x is not a constructor
```

### âœï¸ 17.2.6 new ì—°ì‚°ì

ì¼ë°˜ í•¨ìˆ˜ì™€ ìƒì„±ì í•¨ìˆ˜ì˜ íŠ¹ë³„í•œ í˜•ì‹ì  ì°¨ì´ëŠ” ì—†ë‹¤. `new` ì—°ì‚°ìë¥¼ ì‚¬ìš©í•´ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë©´ í•´ë‹¹ í•¨ìˆ˜ì˜ `[[Construct]]`ê°€ í˜¸ì¶œë˜ë©´ì„œ ìƒì„±ì í•¨ìˆ˜ë¡œ ë™ì‘í•œë‹¤. ì´ë•Œ í•¨ìˆ˜ëŠ” `constructor`ì´ì–´ì•¼ í•œë‹¤.

`new` ì—°ì‚°ì ì—†ì´ ìƒì„±ì í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë©´ ì¼ë°˜ í•¨ìˆ˜ë¡œì„œ ë™ì‘í•˜ê²Œ ë˜ê³  í•¨ìˆ˜ ë‚´ë¶€ì˜ `this`ê°€ ì „ì—­ ê°ì²´ `window`ë¥¼ ê°€ë¦¬í‚¤ê²Œ ë˜ì–´ í•¨ìˆ˜ ë‚´ë¶€ì˜ í”„ë¡œí¼í‹°ì™€ ë©”ì„œë“œê°€ ì „ì—­ ê°ì²´ì˜ í”„ë¡œí¼í‹°ì™€ ë©”ì„œë“œê°€ ëœë‹¤.

ì¼ë°˜ í•¨ìˆ˜ì™€ ìƒì„±ì í•¨ìˆ˜ë¥¼ êµ¬ë¶„í•˜ê¸° ìœ„í•´ ìƒì„±ì í•¨ìˆ˜ëŠ” íŒŒìŠ¤ì¹¼ ì¼€ì´ìŠ¤ë¡œ ëª…ëª…í•œë‹¤.

### âœï¸ 17.2.7 new.target

ìƒì„±ì í•¨ìˆ˜ê°€ `new` ì—°ì‚°ì ì—†ì´ í˜¸ì¶œë˜ëŠ” ê²ƒì„ ë°©ì§€í•˜ê¸° ìœ„í•œ ì»¨ë²¤ì…˜ì„ ì‚¬ìš©í•œë‹¤ í•´ë„ ì‹¤ìˆ˜ëŠ” ë°œìƒí•  ìˆ˜ ìˆë‹¤. ì´ëŸ° ìœ„í—˜ì„±ì„ ë°©ì§€í•˜ê¸° ìœ„í•´ ES6ë¶€í„° `new.target`ì„ ì§€ì›í•œë‹¤.

`new.target`ì€ thisì™€ ìœ ì‚¬í•˜ê²Œ `constructor`ì¸ ëª¨ë“  í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ ì•”ë¬µì ì¸ ì§€ì—­ ë³€ìˆ˜ì™€ ê°™ì´ ì‚¬ìš©ë˜ë©° ë©”íƒ€ í”„ë¡œí¼í‹°ë¼ê³  ë¶€ë¥¸ë‹¤. (IEëŠ” ì§€ì›í•˜ì§€ ì•ŠëŠ”ë‹¤)

`new.target`ì€ í•¨ìˆ˜ë¥¼ `new` ì—°ì‚°ìë¥¼ ì‚¬ìš©í•´ í˜¸ì¶œí•˜ë©´ í•¨ìˆ˜ ìì‹ ì„ ê°€ë¦¬í‚¤ê³  ì¼ë°˜ í•¨ìˆ˜ë¡œì„œ `new` ì—°ì‚°ì ì—†ì´ í˜¸ì¶œë˜ë©´ `undefined`ê°€ ë˜ì–´ ìƒì„±ì í•¨ìˆ˜ë¡œì„œ í˜¸ì¶œë¬ëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

```js
function Person(age, name) {
  if (!new.target) {
    return new Person(age, name);
  }

  this.age = age;
  this.name = name;
  this.sayHi = () => {
    return `Hi! my name is ${this.name} i am ${this.age} years old`;
  };
}

const person = Person(28, 'oms');
console.log(person.sayHi()); // Hi! my name is oms i am 28 years old
```

new.targetì„ ì‚¬ìš©í•  ìˆ˜ ì—†ëŠ” í™˜ê²½ì´ë¼ë©´ ìŠ¤ì½”í”„ ì„¸ì´í”„ ìƒì„±ì íŒ¨í„´ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

```js
function Person(age, name) {
  // new ì—°ì‚°ìì™€ í˜¸ì¶œë˜ì§€ ì•Šì•˜ë‹¤ë©´ thisëŠ” windowë¥¼ ê°€ë¦¬í‚¨ë‹¤.
  if (!(this instanceof Person)) {
    return new Person(age, name);
  }

  this.age = age;
  this.name = name;
  this.sayHi = () => {
    return `Hi! my name is ${this.name} i am ${this.age} years old`;
  };
}

const person = Person(28, 'oms');
console.log(person.sayHi()); // Hi! my name is oms i am 28 years old
```

ëŒ€ë¶€ë¶„ì˜ ë¹ŒíŠ¸ì¸ ìƒì„±ì í•¨ìˆ˜ëŠ” `new` ì—°ì‚°ìì™€ í•¨ê»˜ í˜¸ì¶œë˜ì—ˆëŠ”ì§€ í™•ì¸í•œ í›„ ì ì ˆí•œ ê°’ì„ ë°˜í™˜í•œë‹¤.

- `Object`, `Function` ìƒì„±ì í•¨ìˆ˜ëŠ” `new` ì—°ì‚°ì ì—†ì´ í˜¸ì¶œí•´ë„ `new`ì—°ì‚°ìë¥¼ í˜¸ì¶œí–ˆì„ ë•Œì™€ ë™ì¼í•˜ê²Œ ë™ì‘í•œë‹¤.
- `String`, `Number`, `Boolean` ìƒì„±ì í•¨ìˆ˜ëŠ” `new` ì—°ì‚°ìì™€ í˜¸ì¶œí•˜ë©´ `String`, `Number`, `Boolean` ê°ì²´ë¥¼ ë°˜í™˜í•˜ì§€ë§Œ `new` ì—°ì‚°ì ì—†ì´ í˜¸ì¶œí•˜ë©´ ë¬¸ìì—´, ìˆ«ì, ë¶ˆë¦¬ì–¸ ê°’ì„ ë°˜í™˜í•œë‹¤.
