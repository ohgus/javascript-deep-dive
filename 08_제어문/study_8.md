# 📕 8장 제어문

제어문 === 조건에 따라 코드 블록을 실행하거나 반복 실행할 때 사용하는 문으로 일반적인 코드의 실행 순서를 인위적으로 제어할 수 있다. 하지만 코드의 흐름을 혼란스럽게 만들 수 있고 코드의 가독성을 해친다. 이러한 문제는 오류의 발생으로 이어질 수 있다.

- forEach, map, filter, reduce 같은 고차 함수를 사용하여 제어문의 사용을 억제하여 복잡성을 해결할려 노력하자.

## 📝 8.1 블록문

블록문 === 0개 이상의 문을 중괄호로 묶은 것으로, 코드 블록 또는 불록이라고 불리는 문.

- JS는 블록문을 하나의 실행 단위로 취급한다.
- 단독으로 사용할 수 있으나 주로 제어문, 함수를 정의할 때 사용한다.
- 자체 종결성을 갖기 때문에 세미콜론을 붙이지 않는다.

```js
// 제어문
var x = 10;
if (x >= 10) {
  console.log(x);
}

// 함수 선언문
function hi(name) {
  alert(`Hi ${name}`);
}
```

## 📝 8.2 조건문

조건문 === 주어진 조건식의 평가 결과에 따라 코드 블록의 실행을 결정하는 문.

- JS는 `if...else`, `switch`문을 제공한다.
- 조건식은 불리언 값으로 평가될 수 있는 표현식이다.

### ✏️ 8.2.1 if...else문

조건식의 평가 결과(`true`, `false`)에 따라 실행할 코드 블록을 결정한다.

- `true` -> if문
- `false` -> else문
- 조건식의 평가 결과의 값이 불리언 타입이 아닌 경우 불리언 타입으로 암묵적 타입 변환을 한다.
- `else...if`문으로 조건식을 추가할 수 있다.
- 단순히 결과에 따라 값을 결정하는 경우 삼항 연산자로 대체할 수 있다.(삼항 연산자는 값처럼 사용가능)

```js
if (조건식1) {
  // 조건식1이 true인 경우 실행
} else if (조건식2) {
  // 조건식2가 true인 경우 실행
} else {
  // 모든 조건식이 false인 경우 실행
}

// 삼항 연산자로 대체
const result = 조건식 ? "true" : "false";
```

### ✏️ 8.2.2 switch문

주어진 표현식을 평가하여 그 값과 일치하는 표현식을 갖는 `case`문으로 실행 흐름을 옮긴다.

- `case`문은 상황을 의미하는 표현식을 지정하고 콜론으로 마친다. 뒤에는 실행할 문들을 위치시킨다.
- `default`문을 사용해 표현식과 일치하는 `case`가 없다면 default문을 실행할 수 있다. (옵션)
- 표현식이 불리언 값보다는 문자열이나 숫자인 경우가 많다. (참, 거짓보다는 상황에 따라 코드를 실행하기 때문)
- `case`문 끝에는 항상 `break`문을 사용하여 **폴스루** 현상을 방지해야 한다.

```js
switch (표현식) {
  case 상황1:
    표현식과 상황1이 일치하면 실행;
    break;
  case 상황2:
    표현식과 상황2가 일치하면 실행;
    break;
  default:
    표현식과 일치하는 상황이 없을 때 실행;
}
```

## 📝 8.3 반복문

조건식의 평가 결과가 거짓일 때까지 코드 블록을 실행시킨다. JS는 `for`문, `while`문, `do...while`문을 제공한다.

- `forEach`메서드를 `for`문의 대체로 사용할 수 있다.

### ✏️ 8.3.1 for 문

조건식이 거짓으로 평가될 때까지 코드 블록을 실행한다.

```js
for(변수 선언/할당문; 조건식; 증감식) {
  조건식이 참인 경우 실행되는 코드 블록
}
```

- `for` 문의 변수 선언/할당문은 처음 한번만 실행된다.
- `for` 문의 변수를 조건식과 비교하여 코드 블록을 실행할지 결정한다.
- 코드 블록의 실행이 종료되면 증감식이 실행된다.
- 조건식의 평가 결과가 거짓이면 `for` 문을 종료한다.
- 변수 선언문, 조건식, 증감문은 모두 옵션으로 반드시 사용할 필요는 없다. 단 어떠한 문도 사용하지 않으면 무한루프에 걸린다.
- `for` 문을 중첩해 사용할 수 있다.
- 반복 횟수가 명확할 때 주로 사용한다.

### ✏️ 8.3.2 while 문

조건식의 결과가 참이면 코드 블록을 반복해서 실행한다.

- 반복 횟수가 불명확할 때 주로 사용한다.
- 조건식의 결과가 불리언 값이 아니면 불리언 값으로 강제 변환하여 구별한다.
- 무한루프에서 탈출하기 위해 `if` 문으로 탈출 조건을 만들고 `break` 문으로 코드 블록을 탈출한다.

```js
let day = 1;

while (true) {
  console.log(day);
  day++;

  if (day === 32) break;
}
```

### ✏️ 8.3.3 do...while 문

코드 블록을 먼저 실행하고 조건식을 평가한다.

- 코드 블록이 무조건 한 번 이상 실행된다.

```js
let num = 1;

do {
  console.log(num);
  num++;
} while (num < 10);
```

## 📝 8.4 break 문

레이블 문, 반복문, `switch` 문을 탈출할 때 사용한다. 이외 `break` 문을 사용하면 `SyntaxError`가 발생한다.

- 레이블 문 === 식별자가 붙은 문으로 실행 순서를 제어할 때 사용한다. `switch` 문의 `case`, `default` 문도 레이블 문이다.
- 레이블 문을 탈출할 때는 `break` 문에 레이블 식별자를 지정한다.
- 레이블 문은 중첩된 `for` 문 외부로 탈출할 때 유용하지만 코드의 가독성이 나빠져 오류를 발생시킬 수 있어 권장하지 않는다.
- 중첩 `for` 문 내부 `for` 문에서 `break` 문을 사용하면 외부 `for` 문으로 진입한다.
- 반복문, `switch` 문에서 `break` 문을 사용할 때는 레이블 식별자를 지정하지 않는다.
- `break` 문을 이용하면 불필요한 반복을 피할 수 있다.

```js
// 레이블 문
foo: {
  console.log("foo!");
  break foo;
}

// 반목문
outer: for (let i = 0; i < 2; i++) {
  for (let j = 1; j < 2; j++) {
    if (i + j === 3) break outer;
  }
}
```
