# 📕 7장 연산자

연산자 === 하나 이상의 표현식을 대상으로 산술, 할당, 비교, 논리, 타입, 지수 연산 등을 수행해 하나의 값을 만드는 것.

- 피연산자 === 연산의 대상 === 값으로 평가될 수 있는 표현식
- 피연산자 + 연산자 === 값으로 평가될 수 있는 표현식
- 피연산자는 `명사`의 역할을 하고 연산자는 `동사`의 역할을 한다고 볼 수 있다.

#### 💡 연산자 예시

```js
// 산술 연산자
5 * 4;

// 문자열 연산자
"string" + "string";

// 할당 연산자
something = value;

// 비교 연산자
3 > 5;

// 논리 연산자
true && false;

// 타입 연산자
typeOf "string";
```

## 📝 7.1 산술 연산자

산술 연산자 === 피연산자를 대상으로 수학적 계산을 수행해 새로운 숫자 값을 만드는 것.

- 수학적 계산이 불가능한 경우 `NaN`을 반환한다.

### ✏️ 7.1.1 이항 산술 연산자

이항 산술 연산자 === 2개의 피연산자를 산술 연산하여 숫자 값을 만드는 것.

- 피연산자의 값을 변경하는 부수 효과가 없다. -> 새로운 값을 만들 뿐이다.

| 이항 산술 연산자 |  의미  |       예시        |
| :--------------: | :----: | :---------------: |
|        +         |  덧셈  | `5 + 5; // -> 10` |
|        -         |  뺄셈  | `5 - 3; // -> 2`  |
|        \*        |  곱셈  | `5 * 5; // -> 25` |
|        /         | 나눗셈 | `5 / 5; // -> 1`  |
|        %         | 나머지 | `5 % 3; // -> 2`  |

### ✏️ 7.1.2 단항 산술 연산자

단항 산술 연산자 === 1개의 피연산자를 산술 연산하여 숫자 값을 만드는 것.

- 증가/감소(`++`/`--`) 연산자는 피연산자의 값을 변경하는 부수 효과가 있다. -> 피연산자의 값을 바꾸는 암묵적 할당이 이뤄진다.
- 증가/감소(`++`/`--`) 연산자는 위치에 의미가 있다.

  - 앞에 위치 -> 증가/감소(`++`/`--`) 연산이 수행한 후 다른 연산을 수행
  - 뒤에 위치 -> 다른 연산을 수행한 후 증가/감소(`++`/`--`) 연산을 수행

- `+` 단항 연산자는 숫자 타입이 아닌 값에 사용하면 피연산자를 숫자 타입으로 반환한다.

  - 피연산자를 변경하는 것이 아닌 숫자 타입의 새로운 값을 생성해 반환한다.

- `-` 단항 연산자는 피연산자의 부호를 반전한 값을 반환한다.

  - 숫자 타입이 아닌 값에 사용하면 숫자 타입의 새로운 값을 생성해 반환한다.

  | 단항 산술 연산자 |                     의미                      |
  | :--------------: | :-------------------------------------------: |
  |        ++        |                     증가                      |
  |        --        |                     감소                      |
  |        +         |                    효과 X                     |
  |        -         | 양수를 음수로, 음수를 양수로 반전한 값을 반환 |

#### 💡 단항 연산자 예시

```js
// 증가/감소 연산자
var x = 1;

++1; // -> 2
--1; // -> 1

result = x--; // result -> 1, x -> 0 선할당 후감소
result2 = x++; // result -> 0, x -> 1 선할당 후증가

// + 연산자
// 문자열 -> 숫자
var x = "10";
console.log(+x); // -> 10 숫자 타입으로 변환된 새로운 값을 반환
console.log(x); // -> "10"

var y = "string";
console.log(+y); // -> NaN

// 불리언 -> 숫자
var x = false;
console.log(+x); // -> 0

var x = true;
console.log(+x); // -> 1

// - 연산자
var x = 200;
console.log(-x); // -> -200
var y = -200;
console.log(-y); // -> 200
// 문자열 -> 숫자
-"10"; // -> -10
-"string"; // -> NaN

// 불리언 -> 숫자
-true; // -1
```

### ✏️ 7.1.3 문자열 연결 연산자

`+` 연산자는 피연산자 중 하나 이상이 문자열인 경우 문자열 연결 연산자로 동작한다.

- JS 엔진은 개발자의 의도와 상관없이 암묵적 타입 변환(타입 강제 변환)후 연산을 진행한다.

```js
// 문자열 연결 연산자
"1" + 2; // -> "12"
1 + "2"; // -> "12"

// false -> 0 , true -> 1, null -> 0
1 + true; // -> 2
1 + false; // -> 1
1 + null; // -> 1

// undefined -> NaN
1 + undefined; // -> NaN
```

## 📝 7.2 할당 연산자

할당 연산자 === 우항에 있는 피연산자의 평가 결과를 좌항에 있는 변수에 할당하는 것.

- 좌항의 변수에 값을 할당하므로 변수 값이 변하는 부수 효과가 있다.
- `+=` 할당 연산자를 문자열 연결 연산자로 활용할 수 있다.
- 할당문은 값으로 평가되는 표현식인 문으로서 할당된 값으로 평가된다.
- 여러 변수에 동일한 값을 연쇄 할당할 수 있다. (`var a = b = c = 10`)

| 할당 연산자 |  예시   | 동일 표현  |
| :---------: | :-----: | :--------: |
|      =      |  x = 5  |   x = 5    |
|     +=      | x += 5  | x = x + 5  |
|     -=      | x -= 5  | x = x - 5  |
|     \*=     | x \*= 5 | x = x \* 5 |
|     /=      | x /= 5  | x = x / 5  |
|     %=      | x %= 5  | x = x % 5  |

## 📝 7.3 비교 연산자

비교 연산자 === 좌항과 우항의 피연산자를 비교한 다음 그 결과를 불리언 값으로 반환하는 것.

- if 문이나 for 문과 같은 제어문의 조건식에서 주로 사용한다.

### ✏️ 7.3.1 동등/일치 비교 연산자

동등/일치 비교 연산자는 좌항과 우항의 피연산자가 같은 값으로 평가되는지 비교해 불리언 값으로 반환한다.

#### 💡 동등 비교 연산자

- 느슨한 비교를 한다.
- 암묵적 타입 변환을 통해 타입을 일치시킨 후 값을 비교한다.
- 타입이 달라도 타입 변환 후에 같은 값이면 `true`를 반환한다.
- 편리하지만 결과를 예측하기 어렵고 실수하기 쉽다.

```js
10 == "10"; // true
0 == ""; // true
"0" == ""; // false
false === "false"; // false
```

#### 💡 일치 비교 연산자

- 엄격한 비교를 한다.
- 좌항과 우항의 타입과 값이 모두 같은 경우에 `true`를 반환한다.
- 암묵적 타입 변환을 하지 않기 때문에 결과를 예측하기 쉽다.
- `NaN`은 자신과 일치하지 않는 값이기 때문에 숫자가 `NaN`인지 조사할 때는 `Number.isNaN` 빌트인 함수를 활용하자.
- 0은 양의 0과 음의 0을 비교하면 `true`를 반환한다. `Object.is` 함수를 활용하자.

```js
5 === 5; // true
5 === "5"; // false

Number.isNaN(NaN); // true
Number.isNaN(10); // false

Object.is(0, -0); // false
Object.is(NaN, NaN); // true
```

#### 💡 부동등/불일치 비교 연산자

부동등/불일치 비교 연산자는 동등/일치 연산자와 반대의 개념이다.

```js
// 부동등
5 != 8; // true
5 != 5; // false
5 != "5"; // false

// 불일치
5 !== "5"; // true
0 !== -0; // false
```

### ✏️ 7.3.2 대소 관계 비교 연산자

대소 관계 비교 연산자 === 피연산자의 크기를 비교하여 불리언 값을 반환하는 것.

| 대소 관계 비교 연산자 |  예제  |         설명          |
| :-------------------: | :----: | :-------------------: |
|           >           | x > y  |    x가 y보다 크다     |
|           <           | x < y  |    x가 y보다 작다     |
|          >=           | x >= y | x가 y보다 크거나 같다 |
|          <=           | x <= y | x가 y보다 작거나 같다 |

```js
5 > 6; // false
5 < 6; // true
5 >= 6; // false
5 <= 5; // true
```

## 📝 7.4 삼항 조건 연산자

삼항 조건 연산자 === 조건식의 평가 결과에 따라 반환값을 결정하는 연산자.

- JS 유일의 삼항 연산자이며 부수 효과는 없다.
- 첫번째 피연산자의 반환값에 따라 두번째 혹은 세번째 피연산자가 반환된다.
  - true -> 두번째 피연산자
  - false -> 세번째 피연산자
- 조건식의 평가 결과가 불리언 값이 아니면 암묵적 타입 변환하여 불리언 값으로 변환된다.
- `if...else`문과 유사하게 처리할 수 있다.
  - `if...else`문은 값으로 처리될 수 없다.
  - 삼항 조건 연산자는 값으로 처리될 수 있다.

```js
const result = score >= 60 ? "pass" : "fail";
```

## 📝 7.5 논리 연산자

논리 연산자 === 우항과 좌항의 피연산자를 논리 연산하는 연산자.

| 논리 연산자 |    의미     |
| :---------: | :---------: |
|    \|\|     | 논리합(OR)  |
|     &&      | 논리곱(AND) |
|      !      |  부정(NOT)  |

- 논리합 or 논리곱 연산자의 평가 결과는 불리언 값이 아닐 수도 있다. (항상 좌항 or 우항 중 한쪽으로 평가된다)
- 부정 연산자는 언제나 불리언 값을 반환한다. 피연산자가 불리언 타입이 아니라면 암묵적 타입 변환으로 불리언 값이 된다.

```js
// 논리합 -> 좌항 or 우항 중에 하나라도 true 값이면 true를 반환한다.
true || true; // -> true
true || false; // -> true
false || true; // -> true
false || false; // -> false

// 논리곱 -> 좌항 and 우항 모두 true 값이어야 true를 반환한다.
true && true; // -> true
true && false; // -> false
false && true; // -> false

// 부정
!true; // -> false
!0; // -> true
```

## 📝 7.6 쉼표 연산자

쉼표 연산자 === 왼쪽 피연산자부터 차례대로 피연산자를 평가하고 마지막 피연산자의 평가가 끝나면 마지막 피연산자의 평가 결과를 반환한다.

```js
var x, y, z;

(x = 1), (y = 2), (z = 3); // 3
```

## 📝 7.7 그룹 연산자

그룹 연산자 === 소괄호로 피연산자를 감싸 자신의 피연산자 표현식을 가장 먼저 평가하게 하는 연산자로 연산자의 우선순위를 조절할 수 있다.

- 그룹 연산자의 우선순위가 가장 높다.

## 📝 7.8 typeOf 연산자

`typeOf` 연산자 === 피연산자의 타입을 문자열로 반환하는 연산자.

- 7가지 타입(`string`, `number`, `boolean`, `undefined`, `symbol`, `object`, `function`)중 하나를 문자열로 반환한다.
- `null`은 `object`로 반환된다.(JS 첫 번째 버전의 버그) -> 값이 `null`인지 확인할 때는 일치 연산자를 활용하자.
- 선언하지 않은 식별자를 연산하면 `undefined`를 반환한다.

## 📝 7.9 지수 연산자

지수 연산자 === ES7에서 도입된 연산자로 좌항의 피연산자를 베이스로 우항의 피연산자를 지수로 거듭 제곱하여 숫자 값을 반환하는 연산자.

- 지수 연산자가 도입되기 이전에는 `Math.pow` 메서드를 사용했다.
- 음수를 베이스로 사용하려면 괄호로 묶어야 한다.
- 할당 연산자와 함께 사용할 수 있다.

```js
2 ** 2; // -> 4
Math.pow(2, 2); // -> 4
2 ** -2; // -> 0.25
Math.pow(2, -2); // -> 0.25

// 음수를 베이스로 사용하는 경우
(-5) ** 2; // -> 25
-5 ** 2; // -> SyntaxError

// 할당 연산자와 사용
var num = 5;
num **= 2; // -> 25
```

## 📝 7.11 연산자와 부수 효과

대부분의 연산자는 다른 코드에 영향을 주지 않지만 일부 연산자(할당, 증가/감소, `delete`)는 다른 코드에 영향을 주는 부수 효과가 있다.

## 📝 7.12 연산자 우선순위

연산자 우선순위란 여러개의 연산자로 이루어진 문이 실행될 때 연산자가 실행되는 순서를 말한다. 우선순위가 높을수록 먼저 실행된다.

[MDN 문서 연산자 우선순위](https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Operators/Operator_precedence)

## 📝 7.13 연산자 결합 순서

연산자 결합 순서란 연산자의 어느 쪽부터 평가를 수행할 것인지를 나타내는 순서를 말한다.

|  결합 순서   |                                          연산자                                          |
| :----------: | :--------------------------------------------------------------------------------------: |
| 좌항 -> 우항 |          +, -, /, %, <, <=, >, >=, &&, \|\|, ., [], (), ??, ?., in, instanceof           |
| 우항 -> 좌항 | ++, --, 할당 연산자, !x, +x, -x, ++x, --x, typeOf, delete, 삼항 산술 연산자, 지수 연산자 |
